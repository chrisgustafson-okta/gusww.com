import { Directive, Input, TemplateRef, ViewContainerRef } from '@angular/core';
import { OktaAuthStateService } from './services/auth-state.service';
var OktaHasAnyGroupDirective = /** @class */ (function () {
    function OktaHasAnyGroupDirective(
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    templateRef, viewContainer, authStateService) {
        this.templateRef = templateRef;
        this.viewContainer = viewContainer;
        this.authStateService = authStateService;
    }
    Object.defineProperty(OktaHasAnyGroupDirective.prototype, "oktaHasAnyGroup", {
        set: function (groups) {
            var _this = this;
            this.authStateService.hasAnyGroups(groups)
                .subscribe(function (isAuthorized) {
                // don't update UI if no state change
                if (isAuthorized === _this.previousIsAuthorized) {
                    return;
                }
                _this.previousIsAuthorized = isAuthorized;
                _this.viewContainer.clear();
                if (isAuthorized) {
                    _this.viewContainer.createEmbeddedView(_this.templateRef);
                }
            });
        },
        enumerable: false,
        configurable: true
    });
    OktaHasAnyGroupDirective.decorators = [
        { type: Directive, args: [{ selector: '[oktaHasAnyGroup]' },] }
    ];
    OktaHasAnyGroupDirective.ctorParameters = function () { return [
        { type: TemplateRef },
        { type: ViewContainerRef },
        { type: OktaAuthStateService }
    ]; };
    OktaHasAnyGroupDirective.propDecorators = {
        oktaHasAnyGroup: [{ type: Input }]
    };
    return OktaHasAnyGroupDirective;
}());
export { OktaHasAnyGroupDirective };
//# sourceMappingURL=has-any-group.directive.js.map